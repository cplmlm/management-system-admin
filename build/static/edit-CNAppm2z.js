import{r as i,F as t,s as f,aB as b,aC as I,j as e,R as g,C as d,I as c,S as v}from"./index-Da2ZG1xd.js";const F=l=>{i.useImperativeHandle(l.onRef,()=>({confirm:x}));const[n]=t.useForm(),[r,m]=f.useMessage(),[o,u]=i.useState("");i.useEffect(()=>{h()},[]);const h=()=>{const s=l.data;s.id!==void 0&&s.id!==null&&s.id!==""?(u(s.id),n.setFieldsValue(s)):u("")},x=()=>{n.validateFields().then(s=>{o!==""?(s.oldId=o,p(s)):j(s)}).catch(s=>{})},j=async s=>{l.setLoading(!0);let a=await b(s);(a==null?void 0:a.status)===200&&(r.success(a.message),l.closeModal(1)),l.setLoading(!1)},p=async s=>{let a=await I(s);(a==null?void 0:a.status)===200&&(r.success(a.message),l.closeModal(2))};return e.jsxs("div",{className:"form-content",children:[m,e.jsx(t,{form:n,preserve:!1,labelCol:{span:6},children:e.jsxs(g,{children:[e.jsx(d,{span:24,children:e.jsx(t.Item,{label:"地区编码",name:"id",rules:[{required:!0,message:"地区编码不能为空"}],children:e.jsx(c,{className:"input-width",placeholder:"请输入"})})}),e.jsx(d,{span:24,children:e.jsx(t.Item,{label:"地区名称",name:"name",rules:[{required:!0,message:"地区名称不能为空"}],children:e.jsx(c,{className:"input-width",placeholder:"请输入"})})}),e.jsx(d,{span:24,children:e.jsx(t.Item,{label:"行政区划级别",name:"deep",children:e.jsx(v,{showSearch:!0,placeholder:"请选择",optionFilterProp:"label",className:"select-width",options:[{label:"省级",value:0},{label:"市级",value:1},{label:"区县级",value:2},{label:"乡镇级",value:3},{label:"村级",value:4}]})})}),e.jsx(d,{span:24,children:e.jsx(t.Item,{label:"经纬度",name:"geo",children:e.jsx(c,{className:"input-width",placeholder:"请输入"})})})]})})]})};export{F as default};
