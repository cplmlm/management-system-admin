import{r as i,F as a,s as g,k as w,l as N,j as e,R as b,C as t,I as n}from"./index-Da2ZG1xd.js";import{T as C}from"./index-5IsStPVA.js";const E=d=>{i.useImperativeHandle(d.onRef,()=>({confirm:u}));const[c]=a.useForm(),[r,m]=g.useMessage(),[o,h]=i.useState(""),[p,x]=i.useState("");i.useEffect(()=>{j()},[]);const j=()=>{const s=d.data;x(s.parentId),s.id!==void 0&&s.id!==null&&s.id!==""?(h(s.id),c.setFieldsValue(s)):h("")},u=()=>{c.validateFields().then(s=>{s.parentId=p,o!==""?(s.id=o,f(s)):I(s)}).catch(s=>{})},I=async s=>{d.setLoading(!0);let l=await w(s);(l==null?void 0:l.status)===200&&(r.success(l.message),d.closeModal(1)),d.setLoading(!1)},f=async s=>{let l=await N(s);(l==null?void 0:l.status)===200&&(r.success(l.message),d.closeModal(2))};return e.jsxs("div",{className:"form-content",children:[m,e.jsx(a,{form:c,preserve:!1,labelCol:{span:6},children:e.jsxs(b,{children:[e.jsx(t,{span:12,children:e.jsx(a.Item,{label:"机构名称",name:"name",rules:[{required:!0,message:"机构名称不能为空"}],children:e.jsx(n,{className:"input-width",placeholder:"请输入"})})}),e.jsx(t,{span:12,children:e.jsx(a.Item,{label:"机构简称",name:"shortName",children:e.jsx(n,{className:"input-width",placeholder:"请输入"})})}),e.jsx(t,{span:12,children:e.jsx(a.Item,{label:"机构编码",name:"code",rules:[{required:!0,message:"机构编码不能为空"}],children:e.jsx(n,{className:"input-width",placeholder:"请输入"})})}),e.jsx(t,{span:12,children:e.jsx(a.Item,{label:"联系电话",name:"tel",children:e.jsx(C,{className:"input-width",placeholder:"请输入",maxLength:11})})}),e.jsx(t,{span:12,children:e.jsx(a.Item,{label:"组织机构代码",name:"certificateCode",children:e.jsx(n,{className:"input-width",placeholder:"请输入"})})}),e.jsx(t,{span:12,children:e.jsx(a.Item,{label:"对接机构代码",name:"healthcareCode",children:e.jsx(n,{className:"input-width",placeholder:"请输入"})})}),e.jsx(t,{span:12,children:e.jsx(a.Item,{label:"地址",name:"address",children:e.jsx(n,{className:"input-width",placeholder:"请输入"})})}),e.jsx(t,{span:12,children:e.jsx(a.Item,{label:"医院等级",name:"hospitalLevel",children:e.jsx(n,{className:"input-width",placeholder:"请输入"})})}),e.jsx(t,{span:12,children:e.jsx(a.Item,{label:"医院类型",name:"grade",children:e.jsx(n,{className:"input-width",placeholder:"请输入"})})}),e.jsx(t,{span:12,children:e.jsx(a.Item,{label:"医院性质",name:"property",children:e.jsx(n,{className:"input-width",placeholder:"请输入"})})})]})})]})};export{E as default};
