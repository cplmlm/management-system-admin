import{r as d,F as n,s as j,bD as g,bE as I,j as a,R as M,C as r,I as m}from"./index-Da2ZG1xd.js";const w=t=>{d.useImperativeHandle(t.onRef,()=>({confirm:f}));const[i]=n.useForm(),[l,u]=j.useMessage(),[c,o]=d.useState("");d.useEffect(()=>{p()},[]);const p=()=>{const e=t.data;e.id!==void 0&&e.id!==null&&e.id!==""?(o(e.id),i.setFieldsValue(e)):o("")},f=()=>{i.validateFields().then(e=>{c!==""?(e.id=c,x(e)):h(e)}).catch(e=>{})},h=async e=>{t.setLoading(!0);let s=await g(e);(s==null?void 0:s.status)===200&&(l.success(s.message),t.closeModal(1)),t.setLoading(!1)},x=async e=>{let s=await I(e);(s==null?void 0:s.status)===200&&(l.success(s.message),t.closeModal(1))};return a.jsxs("div",{className:"form-content",children:[u,a.jsx(n,{form:i,preserve:!1,labelCol:{span:7},children:a.jsxs(M,{children:[a.jsx(r,{span:24,children:a.jsx(n.Item,{label:"类型编码",name:"code",children:a.jsx(m,{className:"input-width",placeholder:"请输入"})})}),a.jsx(r,{span:24,children:a.jsx(n.Item,{label:"类型名称",name:"name",rules:[{required:!0,message:"字典类型名称不能为空"}],children:a.jsx(m,{className:"input-width",placeholder:"请输入"})})})]})})]})};export{w as default};
