import{r as d,F as t,s as b,f as v,h as g,j as e,R as I,C as i,I as m,S as R,i as r}from"./index-Da2ZG1xd.js";const F=l=>{d.useImperativeHandle(l.onRef,()=>({confirm:j}));const[n]=t.useForm(),[c,h]=b.useMessage(),[o,u]=d.useState("");d.useEffect(()=>{x()},[]);const x=()=>{const s=l.data;s.id!==void 0&&s.id!==null&&s.id!==""?(u(s.id),n.setFieldsValue(s)):u("")},j=()=>{n.validateFields().then(s=>{o!==""?(s.id=o,p(s)):f(s)}).catch(s=>{})},f=async s=>{l.setLoading(!0);let a=await v(s);(a==null?void 0:a.status)===200&&(c.success(a.message),l.closeModal(1)),l.setLoading(!1)},p=async s=>{let a=await g(s);(a==null?void 0:a.status)===200&&(c.success(a.message),l.closeModal(2))};return e.jsxs("div",{className:"form-content",children:[h,e.jsx(t,{form:n,preserve:!1,labelCol:{span:5},children:e.jsxs(I,{children:[e.jsx(i,{span:24,children:e.jsx(t.Item,{label:"角色名",name:"name",rules:[{required:!0,message:"角色名不能为空"}],children:e.jsx(m,{className:"input-width",placeholder:"请输入"})})}),e.jsx(i,{span:24,children:e.jsx(t.Item,{label:"角色说明",name:"description",rules:[{required:!0,message:"角色说明不能为空"}],children:e.jsx(m,{className:"input-width",placeholder:"请输入"})})}),e.jsx(i,{span:24,children:e.jsx(t.Item,{label:"权限范围",name:"authorityScope",children:e.jsx(R,{showSearch:!0,placeholder:"请选择",optionFilterProp:"label",className:"select-width",options:[{label:"无任何数据权限",value:-1},{label:"自定义数据权限",value:1},{label:"本部门数据权限",value:2},{label:"本部门及以下所有部门",value:3},{label:"仅自己数据权限",value:4},{label:"全部数据权限",value:9}]})})}),e.jsx(i,{span:24,children:e.jsx(t.Item,{label:"状态",name:"enabled",rules:[{required:!0,message:"状态不能为空"}],children:e.jsxs(r.Group,{children:[e.jsx(r,{value:!0,children:"激活"}),e.jsx(r,{value:!1,children:"禁用"})]})})})]})})]})};export{F as default};
