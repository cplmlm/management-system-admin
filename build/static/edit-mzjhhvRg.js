import{r as i,F as l,s as p,ar as I,as as M,j as s,R as b,C as n,I as m,i as r}from"./index-Da2ZG1xd.js";const w=t=>{i.useImperativeHandle(t.onRef,()=>({confirm:j}));const[d]=l.useForm(),[c,h]=p.useMessage(),[o,u]=i.useState("");i.useEffect(()=>{x(),d.setFieldsValue({enabled:!0})},[]);const x=()=>{const e=t.data;e.id!==void 0&&e.id!==null&&e.id!==""?(u(e.id),d.setFieldsValue(e)):u("")},j=()=>{d.validateFields().then(e=>{o!==""?(e.id=o,g(e)):f(e)}).catch(e=>{})},f=async e=>{t.setLoading(!0);let a=await I(e);(a==null?void 0:a.status)===200&&(c.success(a.message),t.closeModal(1)),t.setLoading(!1)},g=async e=>{let a=await M(e);(a==null?void 0:a.status)===200&&(c.success(a.message),t.closeModal(2))};return s.jsxs("div",{className:"form-content",children:[h,s.jsx(l,{form:d,labelCol:{span:6},children:s.jsxs(b,{children:[s.jsx(n,{span:24,children:s.jsx(l.Item,{label:"接口地址",name:"linkUrl",rules:[{required:!0,message:"接口地址不能为空"}],children:s.jsx(m,{className:"input-width",placeholder:"请输入"})})}),s.jsx(n,{span:24,children:s.jsx(l.Item,{label:"接口名称",name:"name",rules:[{required:!0,message:"接口名称不能为空"}],children:s.jsx(m,{className:"input-width",placeholder:"请输入"})})}),s.jsx(n,{span:24,children:s.jsx(l.Item,{label:"状态",name:"enabled",rules:[{required:!0,message:"状态不能为空"}],children:s.jsxs(r.Group,{children:[s.jsx(r,{value:!0,children:"激活"}),s.jsx(r,{value:!1,children:"禁用"})]})})})]})})]})};export{w as default};
