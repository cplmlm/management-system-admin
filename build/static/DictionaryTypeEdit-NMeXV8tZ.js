import{r as d,F as i,s as p,at as y,au as g,j as a,R as I,C as r,I as u}from"./index-Da2ZG1xd.js";const F=t=>{d.useImperativeHandle(t.onRef,()=>({confirm:h}));const[n]=i.useForm(),[c,m]=p.useMessage(),[l,o]=d.useState("");d.useEffect(()=>{f()},[]);const f=()=>{const e=t.data;e.id!==void 0&&e.id!==null&&e.id!==""?(o(e.id),n.setFieldsValue(e)):o("")},h=()=>{n.validateFields().then(e=>{l!==""?(e.id=l,j(e)):x(e)}).catch(e=>{})},x=async e=>{t.setLoading(!0);let s=await y(e);(s==null?void 0:s.status)===200&&(c.success(s.message),t.closeModal(1)),t.setLoading(!1)},j=async e=>{let s=await g(e);(s==null?void 0:s.status)===200&&(c.success(s.message),t.closeModal(1))};return a.jsxs("div",{className:"form-content",children:[m,a.jsx(i,{form:n,preserve:!1,labelCol:{span:7},children:a.jsxs(I,{children:[a.jsx(r,{span:24,children:a.jsx(i.Item,{label:"类型编码",name:"code",children:a.jsx(u,{className:"input-width",placeholder:"请输入"})})}),a.jsx(r,{span:24,children:a.jsx(i.Item,{label:"类型名称",name:"name",rules:[{required:!0,message:"字典类型名称不能为空"}],children:a.jsx(u,{className:"input-width",placeholder:"请输入"})})})]})})]})};export{F as default};
