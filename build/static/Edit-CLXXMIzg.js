import{r as n,F as a,s as f,aF as N,aG as S,j as e,R as C,C as l,S as F,d as q,I as i}from"./index-Da2ZG1xd.js";import{T as u}from"./index-5IsStPVA.js";const{TextArea:h}=i,M=r=>{n.useImperativeHandle(r.onRef,()=>({confirm:g}));const[d]=a.useForm(),[c,p]=f.useMessage(),[o,m]=n.useState(""),[x,j]=n.useState("");n.useEffect(()=>{I()},[]);const I=()=>{const s=r.data;j(s.itemId),s.id!==void 0&&s.id!==null&&s.id!==""?(m(s.id),d.setFieldsValue(s)):m("")},g=()=>{d.validateFields().then(s=>{o!==""?(s.id=o,b(s)):(s.itemId=x,w(s))}).catch(s=>{})},w=async s=>{r.setLoading(!0);let t=await N(s);(t==null?void 0:t.status)===200&&(c.success(t.message),r.closeModal(2)),r.setLoading(!1)},b=async s=>{let t=await S(s);(t==null?void 0:t.status)===200&&(c.success(t.message),r.closeModal(2))};return e.jsxs("div",{className:"form-content",children:[p,e.jsx(a,{form:d,labelCol:{span:6},children:e.jsxs(C,{children:[e.jsx(l,{span:12,children:e.jsx(a.Item,{label:"序号",name:"serialNumber",rules:[{required:!0,message:"序号不能为空"}],children:e.jsx(u,{min:0,className:"input-width",placeholder:"请输入"})})}),e.jsx(l,{span:12,children:e.jsx(a.Item,{label:"性别",name:"gender",rules:[{required:!0,message:"性别不能为空"}],children:e.jsx(F,{showSearch:!0,placeholder:"请选择",optionFilterProp:"label",className:"select-width",options:q("1819214015717576704",!0)})})}),e.jsx(l,{span:12,children:e.jsx(a.Item,{label:"年龄/年级",name:"stage",rules:[{required:!0,message:"年龄/年级不能为空"}],children:e.jsx(u,{min:0,className:"input-width",placeholder:"请输入"})})}),e.jsx(l,{span:12,children:e.jsx(a.Item,{label:"起始值",name:"startValue",rules:[{required:!0,message:"起始值不能为空"}],children:e.jsx(i,{className:"input-width",placeholder:"请输入"})})}),e.jsx(l,{span:12,children:e.jsx(a.Item,{label:"结束值",name:"endValue",rules:[{required:!0,message:"结束值不能为空"}],children:e.jsx(i,{className:"input-width",placeholder:"请输入"})})}),e.jsx(l,{span:12,children:e.jsx(a.Item,{label:"结论",name:"conclusion",rules:[{required:!0,message:"结论不能为空"}],children:e.jsx(i,{className:"input-width",placeholder:"请输入"})})}),e.jsx(l,{span:12,children:e.jsx(a.Item,{label:"版本",name:"vision",children:e.jsx(i,{className:"input-width",placeholder:"请输入"})})}),e.jsx(l,{span:24,children:e.jsx(a.Item,{label:"建议",name:"advice",labelCol:{span:3},children:e.jsx(h,{rows:4,style:{whiteSpace:"pre-wrap"},placeholder:"请输入"})})}),e.jsx(l,{span:24,children:e.jsx(a.Item,{label:"健康知识",name:"healthKnowledge",labelCol:{span:3},children:e.jsx(h,{rows:2,style:{whiteSpace:"pre-wrap"},placeholder:"请输入"})})})]})})]})};export{M as default};
